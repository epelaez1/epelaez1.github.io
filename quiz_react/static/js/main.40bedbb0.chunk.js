(window.webpackJsonpiweb_quiz=window.webpackJsonpiweb_quiz||[]).push([[0],{26:function(e,t,n){e.exports=n(39)},31:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(16),o=n.n(s),i=(n(31),n(1)),c=n(2),u=n(4),p=n(3),l=n(5),h=n(12),m=n(11),f=n(14),b="QUESTION_ANSWER",O="CHANGE_CURRENT_QUESTION",d="FINISH_GAME",j="RESTART_GAME",y="INIT_GAME";function g(e){return{type:O,payload:{index:e}}}function v(){return{type:j,payload:{}}}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var w=Object(f.b)({score:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,e},finished:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case d:return!0;case j:return!1;default:return e}},currentQuestion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case O:return t.payload.index>=0?t.payload.index:e;case j:case d:return 0;default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case b:return e.map((function(e,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{userAnswer:t.payload.index===n?t.payload.answer:e.userAnswer})}));case y:return t.payload.questions;case j:return[];default:return e}}}),P=n(9),C=n(13),Q=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"user_card"},a.a.createElement("img",{src:this.props.author.photo.url,alt:this.props.author.username}),a.a.createElement("div",{className:"info"},"Question sent by: ",a.a.createElement("br",null),a.a.createElement("b",null,this.props.author.username)))}}]),t}(a.a.Component),x=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"button "+this.props.extraClasses,value:this.props.value,onClick:function(t){e.props.action(parseInt(t.target.getAttribute("value")))}},this.props.text)}}]),t}(a.a.Component),A=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.currentQuestion===this.props.numberOfQuestions-1,n=t?this.props.currentQuestion:this.props.currentQuestion+1;return a.a.createElement("form",{className:"answer",onSubmit:function(t){t.preventDefault(),e.props.onPageChange(n)}},a.a.createElement("input",{type:"text",placeholder:"Answer...",value:this.props.userAnswer||"",onChange:function(t){e.props.onQuestionAnswer(t.target.value)}}),a.a.createElement(x,{extraClasses:t?"disabled":"",text:"OK",value:n,action:this.props.onPageChange}))}}]),t}(a.a.Component),q=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.tips.length?a.a.createElement("div",{className:"tips"},"Tips:",a.a.createElement("ul",null,this.props.tips.map((function(e,t){return a.a.createElement("li",{key:t},t+1,": ",e," ")})))):a.a.createElement("div",{className:"tips"}," There are no tips for this question ")}}]),t}(a.a.Component),k=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={filename:"default.jpg",mime:"image/jpeg",url:"/default.jpg"},t={id:-1,isAdmin:!1,username:"Anonymous",photo:e},n=this.props.question.author||t;return n.photo=n.photo||e,a.a.createElement("div",{className:"question_card"},a.a.createElement("div",{className:"question_image"},a.a.createElement("img",{src:this.props.question.attachment?this.props.question.attachment.url:"/default.jpg",alt:"Default"}),a.a.createElement(Q,{author:n})),a.a.createElement("div",{className:"question"},this.props.question.question),a.a.createElement(q,{tips:this.props.question.tips}),a.a.createElement(A,{onPageChange:this.props.onPageChange,numberOfQuestions:this.props.numberOfQuestions,currentQuestion:this.props.currentQuestion,onQuestionAnswer:this.props.onQuestionAnswer,userAnswer:this.props.question.userAnswer}))}}]),t}(a.a.Component),S=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<this.props.numberOfQuestions;t++)e.push(a.a.createElement(x,{key:t,extraClasses:this.props.currentQuestion===t?"disabled":"",value:t,text:t+1,action:this.props.onPageChange}));return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"page_selector"},a.a.createElement(x,{extraClasses:"large "+(0===this.props.currentQuestion?"disabled ":""),text:"Prev",value:0===this.props.currentQuestion?0:this.props.currentQuestion-1,action:this.props.onPageChange}),e,a.a.createElement(x,{extraClasses:"large "+(this.props.currentQuestion===this.props.numberOfQuestions-1?"disabled ":""),text:"Next",value:this.props.currentQuestion===this.props.numberOfQuestions-1?this.props.currentQuestion:this.props.currentQuestion+1,action:this.props.onPageChange})))}}]),t}(a.a.Component);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var N=function(e){0===e.questions.length&&fetch("https://quiz.dit.upm.es/api/quizzes/random10wa?token=5ef285733ffdf65b8049").then((function(e){return e.json()})).then((function(t){return e.dispatch(function(e){return{type:y,payload:{questions:e}}}(t))}))},T=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){N(this.props)}},{key:"componentDidUpdate",value:function(){N(this.props)}},{key:"render",value:function(){var e=this;return 0===this.props.questions.length?a.a.createElement("h2",null," Loading... "):a.a.createElement(a.a.Fragment,null,a.a.createElement(k,{numberOfQuestions:this.props.questions.length,currentQuestion:this.props.currentQuestion,question:this.props.questions[this.props.currentQuestion],onQuestionAnswer:function(t){e.props.dispatch(function(e,t){return{type:b,payload:{index:e,answer:t}}}(e.props.currentQuestion,t))},onPageChange:function(t){e.props.dispatch(g(t))}}),a.a.createElement(S,{currentQuestion:this.props.currentQuestion,numberOfQuestions:this.props.questions.length,onPageChange:function(t){e.props.dispatch(g(t))}}),a.a.createElement(P.b,{to:"/score"},a.a.createElement(x,{extraClasses:"",text:"SUBMIT",value:0,action:function(t){e.props.dispatch({type:d,payload:{}})}})),a.a.createElement("div",{style:{marginTop:"10px"}}),a.a.createElement(P.b,{to:"/game"},a.a.createElement(x,{extraClasses:"",text:"RESTART GAME",value:0,action:function(t){e.props.dispatch(v())}})))}}]),t}(a.a.Component);var R=Object(h.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}))(T);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement(P.b,{to:"/game",style:{marginTop:"100px",width:"300px",alignSelf:"center"}},a.a.createElement(x,{extraClasses:"",text:"START GAME",value:0,action:function(e){return null}}))}}]),t}(a.a.Component);var M=Object(h.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}))(I);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var G=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=0;this.props.questions.forEach((function(e){e.userAnswer&&e.answer.toLowerCase()===e.userAnswer.toLowerCase()&&t++}));var n=this.props.questions.map((function(e,t){var n=e.userAnswer&&e.answer.toLowerCase()===e.userAnswer.toLowerCase()?"correct":e.userAnswer&&""!==e.userAnswer?"wrong":"empty";return a.a.createElement("div",{className:"question_resume "+n,key:t},a.a.createElement("div",null,a.a.createElement("img",{src:e.attachment?e.attachment.url:"/default.jpg",alt:"Default"})),a.a.createElement("span",null,e.question),a.a.createElement("span",{className:"user_answer"},e.userAnswer?e.userAnswer:""),a.a.createElement("span",null,n))}));return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null," YOUR SCORE: ",t),a.a.createElement("div",{className:"answers"},n),a.a.createElement(P.b,{to:"/game"},a.a.createElement(x,{extraClasses:"",text:"RETRY QUIZZES",value:0,action:function(){return null}})),a.a.createElement("div",{style:{marginBottom:"10px"}}),a.a.createElement(P.b,{to:"/game"},a.a.createElement(x,{extraClasses:"",text:"RESTART GAME",value:0,action:function(t){e.props.dispatch(v())}})))}}]),t}(a.a.Component);var z=Object(h.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}))(G),L=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).initialState={score:0,finished:!1,currentQuestion:0,questions:[]},n.store=n.configureStore(),n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement(h.a,{store:this.store},a.a.createElement(P.a,null,a.a.createElement(P.b,{to:"/"},a.a.createElement("header",null,"QUIZ")),a.a.createElement(C.a,{path:"/game",component:R}),a.a.createElement(C.a,{path:"/score",component:z}),a.a.createElement(C.a,{path:"/",exact:!0,component:M})))}},{key:"configureStore",value:function(){return Object(f.c)(w,this.initialState)}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.40bedbb0.chunk.js.map